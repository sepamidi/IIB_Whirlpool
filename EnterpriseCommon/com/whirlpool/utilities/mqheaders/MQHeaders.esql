BROKER SCHEMA com.whirlpool.utilities.mqheaders

CREATE PROCEDURE AddRFH2Header(IN outRoot REFERENCE )
BEGIN
	IF FIELDNAME(outRoot.MQRFH2) IS NULL THEN
		CREATE NEXTSIBLING OF outRoot.MQMD DOMAIN 'MQRFH2' NAME 'MQRFH2';
		SET outRoot.MQRFH2.(MQRFH2.Field)StrucId = MQRFH_STRUC_ID;
		SET outRoot.MQRFH2.(MQRFH2.Field)Version = MQRFH_VERSION_2;
		SET outRoot.MQRFH2.(MQRFH2.Field)Format = outRoot.MQMD.Format;
		SET outRoot.MQRFH2.(MQRFH2.Field)Flags = MQRFH_NONE;		
	END IF;
END;

